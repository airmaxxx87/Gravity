# Gravity Simulator

![screenshot](screenshot.png)

## Описание

Интерактивный симулятор гравитационных систем с возможностью выбора алгоритма расчёта гравитации:
- **Наивный алгоритм** (O(N²)) — точный, но медленный при большом числе тел
- **Barnes-Hut** (O(N log N)) — быстрый приближённый алгоритм для больших систем

Симулятор поддерживает визуализацию орбит, векторов скорости и силы, навигацию по сцене, выбор объектов, управление скоростью времени и многое другое.

## Основные возможности
- Переключение между алгоритмами физики (наивный/Barnes-Hut) по клавише `B`
- Масштабирование и перемещение сцены мышью (как в Google Maps)
- Визуализация траекторий, векторов скорости и силы
- Выбор и центровка на любом объекте
- Управление скоростью симуляции (от x0.1 до x100)
- История состояний (откат/перемотка)
- Поддержка спутников и сложных систем

## Управление
- **Мышь** — перемещение сцены (drag), масштабирование (колесо)
- **Правая кнопка мыши** — выбор объекта
- **Escape** — сброс выбора
- **R** — сброс вида
- **0** — показать всю систему
- **1** — приблизить к солнцу
- **Пробел** — пауза/старт
- **B** — переключение алгоритма физики
- **+/-** — ускорить/замедлить время
- **Стрелки** — перемещение камеры
- **Backspace/Left/Right** — шаг назад/вперёд по истории

## Запуск

1. Установите Python 3.8+
2. Установите зависимости (если есть):
   ```bash
   pip install -r requirements.txt
   ```
3. Запустите симулятор:
   ```bash
   python gravity_sim.py
   ```

## Структура проекта
```
Gravity/
├── gravity_sim.py           # Главный файл симулятора
├── physics/                 # Модуль физики
│   ├── naive_physics.py     # Наивный алгоритм
│   ├── barnes_hut.py        # Barnes-Hut алгоритм
│   └── physics_interface.py # Интерфейс выбора алгоритма
├── ...
```

## Алгоритмы

### Наивный (O(N²))
Вычисляет силу для каждой пары тел напрямую. Используется для малых систем.

### Barnes-Hut (O(N log N))
Использует квадродерево для аппроксимации дальних тел как одной массы. Позволяет симулировать сотни и тысячи тел быстро.

## TODO / Идеи для развития
- 3D-симуляция
- GPU-ускорение
- Импорт/экспорт систем
- Улучшенная визуализация
- Поддержка столкновений

## Лицензия
MIT 